#include "..//inc//tm4c123gh6pm.h"
#include <stdint.h>
#include "game.h"
#include "SysTick.h"

void DisableInterrupts(void); // Disable interrupts
void EnableInterrupts(void);  // Enable interrupts
long StartCritical (void);    // previous I bit, disable interrupts
void EndCritical(long sr);    // restore I bit to previous value
void WaitForInterrupt(void);  // low power mode
void (*PeriodicTask0)(void);   // user function for Timer 0
void (*PeriodicTask1)(void);   // user function for Timer 1
void (*PeriodicTask2)(void);	// user function for Timer 2

#define WN 48
#define HN 24
#define THN 16
#define QN 12
#define TQN 8
#define EN 6
#define SN 3

#define R 0

#define C3 130.81
#define C3S 138.59
#define D3 146.83
#define D3S 155.56
#define E3 164.81
#define F3 174.61
#define F3S 185
#define G3 196.00
#define G3S 207.65
#define A3 220.00
#define A3S 233.08
#define B3 246.94
#define C4 261.63
#define C4S 277.18
#define D4 293.66
#define D4S 311.13
#define E4 329.63
#define F4 349.23
#define F4S 369.99
#define G4 392.00
#define G4S 415.30
#define A4 440.00
#define A4S 466.16
#define B4 493.88
#define C5 523.25
#define C5S 554.37
#define D5 587.33
#define D5S 622.25
#define E5 659.25
#define F5 698.46
#define F5S 739.99
#define G5 783.99

#define BPM 1080

typedef struct{
	double frequencies[500];
	int durations[500];
	int songPointer;
	int songLength;
} Song;

const Song song = {.frequencies={E4, E4, R, E4, R, C4, E4, R, G4, R, G3, R, C4, R, G3, R, E3, R, A3, R, B3, R, A3S, A3, R, G3, E4, G4, A4, R, F4, G4, R, E4, R, C4, D4, B3, R, C4, R, G3, R, E3, R, A3, R, B3, R, A3S, A3, R, G3, E4, G4, A4, R, F4, G4, R, E4, R, C4, D4, B3, R, G4, F4S, F4, D4S, R, E4, R, G3S, A3, C4, R, A3, C4, D4, R, G4, F4S, F4, D4S, R, E4, R, C5, R, C5, C5, R, G4, F4S, F4, D4S, R, E4, R, G3S, A3, C4, R, A3, C4, D4, R, D4S, R, D4, R, C4, R, G4, F4S, F4, D4S, R, E4, R, G3S, A3, C4, R, A3, C4, D4, R, G4, F4S, F4, D4S, R, E4, R, C5, R, C5, C5, R, G4, F4S, F4, D4S, R, E4, R, G3S, A3, C4, R, A3, C4, D4, R, D4S, R, D4, R, C4, R, C4, C4, R, C4, R, C4, D4, R, E4, C4, R, A3, G3, R, C4, C4, R, C4, R, C4, D4, E4, R, C4, C4, R, C4, R, C4, D4, R, E4, C4, R, A3, G3, R, E4, E4, R, E4, R, C4, E4, R, G4, R, G3, R, C4, R, G3, R, E3, R, A3, R, B3, R, A3S, A3, R, G3, E4, G4, A4, R, F4, G4, R, E4, R, C4, D4, B3, R, C4, R, G3, R, E3, R, A3, R, B3, R, A3S, A3, R, G3, E4, G4, A4, R, F4, G4, R, E4, R, C4, D4, B3, R, E4, C4, R, G3, R, G3S, R, A3, F4, R, F4, A3, R, B3, A4, A4, A4, G4, F4, E4, C4, R, A3, G3, R, E4, C4, R, G3, R, G3S, R, A3, F4, R, F4, A3, R, B3, F4, R, F4, F4, E4, D4, C4, E3, R, E3, C3, R, E4, C4, R, G3, R, G3S, R, A3, F4, R, F4, A3, R, B3, A4, A4, A4, G4, F4, E4, C4, R, A3, G3, R, E4, C4, R, G3, R, G3S, R, A3, F4, R, F4, A3, R, B3, F4, R, F4, F4, E4, D4, C4, E3, R, E3, C3, R, C5, G4, E4, C5, G4, E4, C5, C5S, G4S, F4, C5S, G4S, F4, C5S, D5S, A4S, G4, D5S, A4S, G4,
D5S, F5, F5, F5, G5},
.durations={QN, QN, QN, QN, QN, QN, QN, QN, QN, QN+HN, QN, QN+HN, QN, HN, QN, HN, QN, HN, QN, QN, QN, QN, QN, QN, QN, THN, THN, THN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, HN, QN, HN, QN, HN, QN, QN, QN, QN, QN, QN, QN, THN, THN, THN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, WN,QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, WN+QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, HN, QN, HN, QN, WN+WN+QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, WN+QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, HN, QN, HN, QN, WN+HN+QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN+QN, QN, QN, QN, QN, QN, QN, QN, QN, WN+WN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN+QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN+QN, QN, HN+QN, QN, HN, QN, HN, QN, HN, QN, QN, QN, QN, QN, QN, QN, THN, THN, THN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, HN, QN, HN, QN, HN, QN, QN, QN, QN, QN, QN, QN, THN, THN, THN, QN, QN, QN, QN, QN, QN, QN, QN, QN, QN, HN, QN, QN, QN, QN, HN, QN, QN, QN, QN, QN, QN, QN, HN+QN, THN, THN, THN, THN, THN, THN, QN, QN, QN, QN, QN, HN+QN, QN, QN, QN, QN, HN, QN, QN, QN, QN, QN, QN, QN, QN+HN, QN, QN, QN, QN, THN, THN, THN, QN, QN, QN, QN, QN, QN+HN, QN, QN, QN, QN, HN, QN, QN, QN, QN, QN, QN, QN, HN+QN, THN, THN, THN, THN, THN, THN, QN, QN, QN, QN, QN, HN+QN, QN, QN, QN, QN, HN, QN, QN, QN, QN, QN, QN, QN, HN+QN, QN, QN, QN, QN, THN, THN, THN, QN, QN, QN, QN, QN, HN+QN, TQN, TQN, TQN, TQN, TQN, TQN, WN, TQN, TQN, TQN, TQN, TQN, TQN, WN, TQN, TQN, TQN, TQN, TQN, TQN,
HN, TQN, TQN, TQN, WN},
.songPointer = 0, .songLength = 392};
static int songPointer = 0;

const unsigned short Flute[32] = {
	1007, 1252, 1374, 1548, 1698, 1797, 1825, 1797, 1675, 1562, 1383,
	1219, 1092, 1007, 913, 890, 833, 847, 810, 777, 744, 674,
	598, 551, 509, 476, 495, 533, 589, 659, 758, 876
};

const unsigned short Horn[32] = {
	1063, 1082, 1119, 1275, 1678, 1748, 1275, 755, 661, 661, 703,
	731, 769, 845, 1039, 1134, 1209, 1332, 1465, 1545, 1427, 1588,
	1370, 1086, 708, 519, 448, 490, 566, 684, 802, 992
};

const unsigned short Trumpet[32] = {
	1007, 1088, 1156, 1194, 1067, 789, 303, 99, 789, 1510, 1476,
	1173, 1067, 1037, 1084, 1062, 1011, 1015, 1045, 1062, 1011, 1011,
	1058, 1113, 1084, 1075, 1079, 1105, 1088, 1049, 1015, 1045
};

const int backgroundMusicArray[] = {0};
int backgroundMusicLength = sizeof(backgroundMusicArray) / sizeof(int);
int backgroundMusicIndex = 0;
	
// WAV arrays for sound effects
static const unsigned short jumpSound[6506] = {2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2047,2048,2047,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2047,2048,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2048,2047,2048,2047,2048,2048,2047,2047,2048,2047,2048,2048,2048,2048,2048,2047,2047,2048,2048,2047,2048,2048,2048,2047,2048,2048,2048,2048,2048,2047,2047,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2047,2047,2048,2048,2047,2048,2047,2048,2047,2047,2047,2047,2048,2047,2047,2047,2048,2047,2047,2047,2047,2047,2048,2047,2047,2047,2047,2047,2047,2047,2047,2048,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2049,2049,2050,2051,2054,2061,2160,2538,2528,2515,2502,2488,2475,2462,2450,2438,2427,2417,2414,1894,1880,1885,1890,1895,1900,1904,1908,1912,1916,1920,1923,1946,2451,2430,2416,2404,2392,2381,2370,2359,2348,2337,2326,2311,1916,1821,1821,1825,1830,1835,1841,1846,1850,1854,1856,1855,1835,2565,2521,2499,2482,2466,2451,2437,2423,2410,2395,2379,2353,2037,1764,1759,1763,1769,1775,1782,1789,1795,1800,1804,1803,1779,2522,2479,2459,2443,2429,2416,2403,2391,2378,2366,2352,2331,2171,1725,1726,1733,1741,1749,1758,1766,1775,1783,1790,1796,1795,2427,2445,2434,2422,2411,2400,2389,2379,2370,2361,2354,2349,2345,1655,1686,1702,1715,1727,1739,1749,1760,1771,1782,1796,1819,2167,2404,2406,2400,2392,2383,2374,2365,2357,2350,2344,2343,2363,1626,1663,1682,1696,1708,1720,1731,1741,1752,1762,1773,1787,1878,2418,2408,2397,2387,2376,2366,2356,2346,2336,2326,2316,2304,1766,1685,1690,1698,1707,1717,1726,1735,1743,1750,1755,1756,1737,2475,2433,2413,2372,2347,2335,2325,2315,2304,2294,2281,2260,2035,1712,1710,1716,1724,1733,1741,1750,1758,1766,1772,1776,1767,2410,2398,2384,2373,2362,2352,2343,2334,2325,2317,2309,2301,2271,1679,1700,1713,1724,1735,1746,1756,1766,1776,1787,1799,1818,2219,2373,2374,2367,2360,2352,2344,2336,2329,2322,2318,2317,2340,1640,1681,1699,1713,1726,1737,1748,1758,1768,1779,1791,1808,1946,2376,2373,2366,2357,2348,2340,2331,2322,2314,2306,2299,2296,1728,1697,1705,1715,1725,1734,1743,1752,1760,1767,1773,1777,1772,2432,2399,2383,2370,2358,2347,2337,2326,2316,2305,2291,2270,1972,1724,1721,1727,1734,1742,1750,1758,1766,1772,1778,1780,1762,2441,2410,2394,2381,2369,2359,2348,2338,2329,2320,2310,2298,2230,1700,1712,1723,1733,1743,1752,1762,1771,1781,1790,1800,1813,2256,2344,2342,2335,2328,2321,2313,2306,2300,2294,2290,2290,2309,1663,1702,1719,1732,1744,1754,1765,1775,1785,1795,1808,1827,2013,2341,2342,2337,2330,2322,2315,2307,2300,2293,2287,2283,2288,1709,1711,1723,1733,1743,1752,1761,1770,1777,1785,1791,1794,1794,2399,2370,2356,2344,2334,2324,2314,2305,2295,2285,2273,2253,2015,1746,1743,1749,1756,1764,1771,1779,1787,1794,1800,1805,1799,2379,2377,2365,2355,2345,2336,2328,2319,2312,2305,2299,2295,2296,1691,1720,1735,1746,1757,1767,1777,1786,1796,1806,1818,1839,2076,2346,2349,2343,2336,2328,2321,2313,2306,2298,2292,2288,2294,1714,1716,1727,1738,1747,1757,1765,1774,1781,1788,1795,1798,1797,2401,2331,2318,2308,2298,2289,2281,2273,2264,2255,2244,2226,2007,1759,1757,1762,1769,1776,1784,1791,1799,1805,1811,1816,1811,2346,2345,2334,2325,2316,2308,2300,2293,2286,2279,2274,2271,2270,1714,1741,1754,1765,1775,1784,1794,1803,1812,1821,1832,1851,2071,2320,2322,2317,2311,2304,2297,2290,2283,2276,2271,2267,2272,1737,1739,1749,1759,1768,1776,1785,1792,1799,1806,1812,1815,1816,2372,2346,2332,2322,2312,2303,2294,2285,2276,2266,2255,2236,2017,1768,1766,1770,1777,1784,1790,1797,1804,1810,1815,1818,1808,2478,2472,2455,2439,2421,2394,2116,1802,1796,1800,1805,1812,1818,1825,1832,1839,1845,1852,1858,1865,1872,1879,1887,1898,1917,2189,2497,2497,2489,2479,2472,2468,1768,1797,1810,1819,1828,1835,1842,1848,1855,1861,1867,1872,1877,1882,1886,1890,1893,1894,1891,2583,2547,2527,2512,2501,2502,1823,1822,1831,1838,1845,1851,1857,1863,1869,1874,1879,1884,1888,1893,1897,1900,1902,1903,1891,2558,2549,2530,2511,2491,2462,2178,1866,1858,1860,1863,1868,1872,1877,1882,1887,1892,1896,1901,1906,1910,1914,1919,1923,1928,1967,2579,2556,2539,2525,2514,2513,1845,1839,1846,1853,1860,1866,1873,1878,1884,1890,1895,1900,1906,1911,1917,1923,1930,1939,1958,2262,2534,2534,2525,2516,2510,2523,1783,1820,1833,1843,1851,1858,1864,1870,1876,1881,1886,1891,1896,1900,1904,1908,1911,1913,1906,2542,2551,2534,2518,2499,2476,2338,1852,1851,1855,1859,1864,1869,1874,1879,1883,1888,1892,1896,1900,1903,1906,1908,1909,1905,1879,2617,2569,2545,2525,2505,2480,2019,1869,1864,1866,1870,1875,1880,1885,1890,1894,1899,1904,1909,1914,1919,1924,1929,1936,1947,2054,2561,2550,2538,2527,2520,2532,1802,1828,1841,1850,1857,1864,1871,1877,1883,1888,1894,1899,1904,1910,1915,1921,1927,1935,1950,2375,2536,2532,2522,2511,2501,2488,1802,1828,1839,1847,1854,1860,1866,1872,1877,1882,1887,1891,1895,1899,1903,1905,1907,1904,1884,2593,2562,2539,2519,2499,2470,2237,1868,1861,1862,1866,1870,1875,1879,1884,1888,1893,1897,1901,1905,1909,1912,1915,1917,1916,1911,2605,2567,2546,2528,2512,2497,1921,1857,1858,1863,1868,1873,1878,1884,1889,1894,1900,1905,1910,1915,1920,1926,1933,1941,1958,2155,2545,2542,2533,2524,2518,2538,1782,1821,1836,1846,1853,1861,1867,1873,1879,1885,1890,1895,1900,1905,1910,1915,1920,1925,1931,2470,2542,2533,2519,2505,2489,2427,1828,1839,1846,1852,1858,1864,1869,1875,1880,1884,1889,1893,1897,1900,1903,1905,1905,1901,1872,2616,2568,2543,2522,2501,2471,2126,1874,1866,1867,1870,1874,1879,1883,1888,1892,1897,1902,1906,1910,1915,1919,1923,1927,1932,1971,2583,2559,2543,2528,2517,2516,1848,1841,1849,1856,1863,1869,1875,1881,1886,1892,1897,1903,1908,1913,1919,1925,1932,1941,1960,2264,2536,2536,2527,2518,2512,2525,1784,1821,1835,1844,1852,1859,1865,1871,1877,1882,1887,1892,1897,1901,1905,1909,1912,1914,1907,2543,2552,2535,2518,2500,2477,2339,1852,1852,1855,1860,1865,1869,1874,1879,1884,1888,1893,1897,1900,1904,1907,1909,1909,1905,1879,2618,2570,2545,2525,2505,2481,2015,1869,1864,1867,1870,1875,1880,1885,1890,1895,1899,1904,1909,1914,1919,1924,1929,1936,1948,2054,2561,2550,2538,2527,2520,2532,1802,1828,1841,1850,1858,1864,1871,1877,1883,1888,1894,1899,1904,1910,1915,1921,1927,1935,1950,2376,2536,2533,2522,2511,2501,2488,1803,1828,1839,1847,1854,1860,1866,1872,1877,1882,1887,1891,1896,1899,1903,1905,1906,1904,1884,2593,2562,2539,2519,2499,2470,2237,1868,1861,1863,1866,1870,1875,1879,1884,1888,1893,1897,1901,1905,1909,1912,1915,1917,1916,1911,2605,2567,2545,2528,2512,2497,1921,1857,1858,1863,1868,1873,1878,1884,1889,1894,1900,1905,1910,1915,1920,1926,1933,1941,1958,2155,2545,2542,2533,2523,2518,2538,1781,1821,1836,1845,1853,1861,1867,1873,1879,1885,1890,1895,1900,1905,1910,1915,1920,1925,1931,2469,2542,2533,2519,2504,2488,2424,1829,1840,1847,1853,1859,1864,1870,1875,1880,1884,1889,1893,1897,1900,1903,1905,1906,1901,1872,2616,2568,2543,2522,2501,2471,2127,1874,1866,1867,1870,1874,1879,1883,1888,1893,1897,1902,1906,1910,1915,1919,1923,1927,1932,1971,2583,2559,2543,2529,2517,2517,1848,1841,1849,1856,1863,1869,1875,1881,1886,1892,1898,1903,1908,1913,1919,1925,1932,1941,1960,2269,2536,2536,2527,2518,2512,2525,1785,1821,1835,1844,1852,1859,1866,1871,1877,1883,1888,1892,1897,1901,1905,1909,1912,1914,1907,2543,2552,2535,2518,2500,2477,2339,1852,1852,1855,1860,1865,1870,1875,1879,1884,1889,1893,1897,1901,1904,1907,1909,1910,1906,1880,2618,2570,2546,2526,2506,2481,2015,1870,1865,1867,1871,1876,1880,1885,1890,1895,1900,1905,1910,1915,1920,1925,1930,1937,1949,2055,2562,2551,2540,2528,2521,2534,1802,1829,1842,1851,1859,1866,1872,1878,1884,1890,1895,1901,1906,1911,1917,1922,1929,1937,1952,2378,2538,2535,2524,2513,2503,2491,1805,1831,1841,1850,1857,1863,1869,1875,1881,1886,1891,1896,1900,1904,1908,1911,1914,1914,1901,2575,2563,2544,2527,2510,2490,2403,1844,1850,1856,1861,1867,1873,1878,1883,1889,1894,1899,1904,1908,1913,1918,1923,1927,1932,1937,2490,2554,2544,2532,2519,2509,2494,1811,1836,1847,1855,1862,1869,1875,1881,1887,1893,1898,1904,1909,1915,1920,1926,1933,1941,1958,2359,2541,2539,2531,2521,2516,2533,1784,1822,1837,1847,1855,1863,1869,1876,1882,1888,1894,1899,1905,1911,1916,1922,1930,1939,1957,2204,2537,2536,2528,2518,2513,2530,1785,1819,1833,1843,1851,1858,1865,1871,1877,1883,1888,1893,1898,1904,1909,1914,1919,1925,1934,2014,2343,2338,2331,2324,2318,2319,1873,1871,1878,1883,1889,1894,1899,1903,1908,1912,1916,1920,1924,1927,1931,1934,1937,1940,1943,1962,2383,2365,2354,2343,2332,2321,1959,1902,1902,1905,1908,1912,1916,1919,1923,1926,1930,1933,1936,1938,1941,1943,1945,1946,1944,1931,2413,2383,2368,2354,2340,2322,2062,1922,1917,1918,1920,1923,1926,1929,1932,1935,1938,1941,1943,1946,1948,1950,1951,1951,1948,1929,2426,2393,2376,2362,2348,2329,2170,1928,1923,1924,1926,1929,1932,1935,1938,1941,1944,1946,1949,1952,1954,1957,1958,1959,1958,1947,2410,2394,2381,2368,2356,2342,2268,1918,1919,1922,1926,1929,1933,1936,1939,1943,1946,1949,1952,1956,1959,1961,1964,1967,1970,1970,2360,2388,2380,2371,2362,2354,2335,1896,1910,1916,1921,1926,1930,1934,1938,1942,1945,1949,1953,1956,1960,1963,1967,1971,1977,1987,2277,2379,2377,2370,2364,2360,2368,1875,1899,1909,1915,1921,1925,1930,1934,1938,1942,1946,1950,1954,1957,1961,1965,1970,1976,1989,2176,2374,2374,2368,2362,2359,2371,1870,1895,1905,1911,1917,1922,1926,1931,1935,1938,1942,1946,1949,1953,1957,1960,1964,1970,1979,2074,2379,2374,2367,2359,2353,2357,1895,1900,1907,1912,1916,1921,1925,1929,1933,1936,1940,1943,1946,1949,1952,1955,1958,1961,1965,1994,2395,2380,2369,2358,2348,2339,1955,1912,1913,1916,1920,1923,1927,1930,1933,1936,1940,1942,1945,1948,1950,1952,1954,1955,1953,1945,2416,2389,2373,2360,2347,2329,2045,1925,1921,1922,1924,1927,1930,1933,1936,1939,1942,1944,1947,1949,1951,1953,1954,1954,1951,1931,2429,2395,2379,2364,2350,2330,2149,1931,1925,1926,1928,1930,1933,1936,1939,1942,1945,1948,1950,1953,1955,1957,1959,1959,1958,1944,2418,2397,2382,2369,2356,2340,2248,1923,1923,1925,1928,1931,1934,1937,1941,1944,1947,1950,1953,1956,1959,1961,1964,1967,1968,1966,2375,2391,2381,2371,2362,2352,2324,1902,1913,1918,1923,1927,1932,1935,1939,1943,1947,1950,1953,1957,1960,1964,1967,1971,1976,1985,2299,2381,2378,2371,2364,2360,2364,1879,1902,1911,1917,1922,1927,1931,1936,1940,1944,1947,1951,1955,1959,1962,1967,1971,1978,1990,2200,2375,2375,2369,2363,2360,2373,1870,1896,1906,1913,1918,1923,1928,1932,1936,1940,1944,1948,1951,1955,1959,1963,1967,1973,1983,2097,2378,2375,2368,2361,2356,2362,1887,1899,1907,1913,1918,1922,1927,1931,1934,1938,1942,1945,1949,1952,1955,1958,1962,1965,1971,2012,2394,2382,2372,2364,2356,2350,1888,1905,1912,1918,1922,1927,1930,1934,1938,1941,1944,1947,1950,1953,1955,1956,1956,1947,2399,2390,2377,2366,2356,2346,1962,1919,1920,1923,1927,1930,1934,1937,1941,1944,1948,1951,1954,1958,1961,1965,1970,1980,2086,2376,2372,2363,2354,2343,2296,1906,1912,1917,1921,1925,1928,1932,1935,1939,1942,1945,1948,1950,1953,1954,1955,1953,1936,2427,2399,2384,2373,2365,2366,1909,1910,1916,1921,1925,1929,1933,1937,1940,1944,1947,1951,1954,1958,1961,1966,1971,1983,2169,2366,2365,2356,2346,2330,2221,1921,1919,1921,1924,1927,1931,1934,1937,1941,1944,1947,1949,1952,1954,1956,1956,1954,1937,2432,2401,2386,2376,2370,2380,1881,1904,1912,1918,1923,1927,1932,1935,1939,1943,1946,1950,1953,1956,1960,1964,1968,1977,2229,2328,2325,2317,2307,2290,2117,1934,1930,1931,1933,1936,1939,1942,1945,1948,1951,1954,1956,1959,1961,1964,1965,1965,1964,2378,2357,2346,2337,2333,2342,1890,1914,1922,1927,1932,1936,1940,1943,1947,1950,1953,1956,1959,1962,1965,1967,1970,1972,2306,2342,2335,2326,2315,2300,2045,1938,1935,1936,1939,1941,1944,1947,1950,1953,1956,1959,1962,1964,1967,1970,1973,1977,2010,2362,2350,2341,2333,2327,2323,1902,1919,1925,1930,1935,1938,1942,1945,1948,1951,1954,1957,1960,1962,1964,1965,1966,1959,2359,2354,2343,2334,2324,2314,1977,1933,1933,1936,1939,1942,1945,1948,1951,1954,1957,1960,1963,1966,1970,1973,1978,1986,2071,2345,2340,2333,2324,2315,2278,1918,1925,1930,1933,1937,1940,1944,1947,1950,1953,1955,1958,1960,1962,1964,1965,1963,1948,2388,2363,2350,2340,2333,2333,1927,1925,1930,1934,1938,1941,1945,1948,1951,1955,1958,1961,1964,1967,1970,1974,1980,1990,2149,2336,2334,2327,2317,2303,2212,1933,1932,1934,1937,1940,1943,1946,1949,1952,1955,1957,1960,1962,1964,1966,1966,1964,1948,2395,2367,2354,2344,2339,2347,1901,1920,1928,1933,1937,1942,1945,1949,1952,1956,1959,1962,1966,1969,1972,1976,1982,1991,2235,2342,2341,2336,2331,2337,1909,1920,1927,1932,1937,1941,1944,1948,1951,1955,1958,1961,1964,1967,1970,1973,1975,2318,2349,2344,2338,2334,2345,1891,1915,1923,1929,1933,1938,1941,1945,1948,1951,1954,1957,1959,1961,1963,1963,1953,2369,2357,2346,2337,2330,2329,1902,1919,1926,1931,1935,1939,1942,1945,1948,1951,1953,1956,1958,1959,1959,1957,1940,2388,2358,2344,2333,2321,2282,1924,1929,1933,1936,1939,1942,1945,1948,1951,1953,1956,1958,1960,1961,1962,1960,1951,2380,2354,2339,2326,2310,2201,1942,1939,1940,1942,1945,1947,1950,1953,1955,1958,1960,1963,1965,1967,1970,1973,1997,2361,2346,2334,2322,2305,2104,1947,1942,1943,1945,1947,1950,1953,1956,1958,1961,1964,1967,1970,1974,1978,1987,2077,2344,2340,2331,2322,2310,2007,1939,1938,1940,1943,1946,1949,1952,1955,1959,1962,1965,1968,1972,1976,1981,1993,2172,2338,2338,2332,2327,2326,1934,1925,1930,1934,1938,1942,1945,1949,1952,1956,1959,1962,1965,1969,1972,1977,1984,2235,2302,2300,2296,2293,2302,1907,1924,1931,1936,1941,1945,1948,1951,1955,1958,1961,1963,1966,1969,1971,1973,1971,2305,2314,2307,2301,2298,2306,1906,1926,1934,1939,1943,1947,1950,1953,1956,1958,1961,1963,1965,1967,1968,1967,1955,2341,2321,2310,2301,2294,2283,1923,1935,1940,1944,1947,1950,1953,1956,1958,1961,1963,1965,1967,1968,1968,1966,1951,2348,2322,2309,2298,2286,2230,1943,1945,1947,1950,1953,1955,1957,1960,1962,1965,1967,1969,1971,1972,1973,1973,1973,2336,2317,2305,2293,2277,2150,1956,1952,1953,1955,1957,1959,1962,1964,1966,1969,1971,1973,1976,1978,1981,1986,2026,2319,2310,2301,2291,2276,2063,1956,1953,1954,1955,1958,1961,1963,1966,1968,1971,1974,1976,1980,1983,1987,1996,2106,2307,2306,2299,2292,2285,1983,1946,1947,1950,1953,1956,1958,1961,1964,1967,1970,1973,1976,1979,1983,1988,1997,2192,2306,2306,2301,2297,2300,1929,1934,1940,1944,1948,1951,1954,1958,1960,1963,1966,1969,1971,1974,1977,1980,1983,2268,2308,2303,2294,2283,2215,1948,1948,1950,1953,1956,1959,1961,1964,1967,1970,1972,1975,1978,1981,1987,2030,2321,2314,2308,2304,2313,1912,1931,1939,1944,1947,1951,1954,1957,1959,1962,1964,1966,1967,1968,1967,1954,2341,2320,2307,2295,2279,2076,1959,1955,1956,1958,1960,1962,1965,1967,1970,1973,1976,1979,1982,1987,1997,2165,2305,2304,2299,2295,2288,1922,1936,1942,1946,1949,1953,1956,1959,1961,1964,1966,1968,1970,1971,1971,1965,2342,2321,2310,2302,2299,1954,1943,1946,1949,1952,1955,1958,1960,1963,1966,1968,1970,1973,1975,1976,1976,2292,2311,2303,2294,2280,2186,1954,1952,1953,1955,1958,1960,1963,1966,1968,1971,1974,1977,1980,1984,1991,2058,2315,2311,2306,2303,2313,1909,1930,1938,1943,1947,1950,1954,1956,1959,1962,1964,1966,1967,1967,1965,1950,2346,2321,2308,2296,2282,2044,1957,1954,1955,1957,1959,1962,1964,1967,1970,1972,1975,1978,1982,1986,1995,2198,2304,2303,2298,2291,2271,1930,1939,1944,1948,1951,1954,1957,1960,1963,1965,1968,1970,1972,1974,1975,1979,2336,2319,2310,2303,2304,1937,1939,1943,1947,1950,1953,1956,1959,1962,1964,1967,1969,1971,1972,1973,1969,2310,2314,2304,2293,2278,2156,1957,1954,1954,1956,1959,1961,1964,1966,1969,1972,1975,1977,1981,1985,1993,2073,2270,2268,2265,2263,2270,1921,1939,1945,1950,1954,1957,1960,1963,1965,1967,1969,1971,1973,1973,1971,1958,2307,2284,2272,2263,2253,2014,1962,1961,1962,1964,1966,1969,1971,1973,1976,1978,1981,1983,1986,1990,1996,2204,2271,2269,2263,2256,2223,1950,1955,1958,1961,1963,1966,1969,1971,1974,1976,1978,1980,1983,1985,1987,2002,2294,2282,2276,2271,2276,1938,1948,1954,1957,1960,1963,1966,1969,1971,1973,1975,1977,1978,1979,1979,1972,2291,2282,2273,2263,2249,2113,1970,1966,1967,1968,1970,1973,1975,1977,1979,1982,1985,1987,1990,1995,2003,2110,2275,2274,2271,2268,2272,1931,1947,1953,1957,1960,1964,1966,1969,1971,1974,1976,1978,1979,1980,1978,1967,2312,2291,2282,2276,2280,1941,1951,1957,1960,1963,1966,1969,1971,1973,1975,1977,1979,1980,1979,1971,2303,2289,2280,2275,2279,1943,1952,1957,1960,1963,1966,1969,1971,1974,1976,1978,1979,1980,1980,1972,2300,2288,2280,2275,2277,1945,1952,1957,1961,1964,1966,1969,1972,1974,1976,1978,1980,1981,1981,1973,2298,2288,2280,2274,2277,1947,1953,1957,1961,1964,1967,1969,1972,1974,1976,1978,1980,1981,1981,1974,2296,2287,2279,2274,2275,1950,1954,1958,1961,1964,1967,1969,1972,1974,1976,1978,1980,1981,1981,1975,2293,2287,2279,2273,2274,1952,1954,1958,1961,1964,1967,1969,1972,1974,1976,1978,1980,1981,1982,1976,2291,2286,2278,2272,2273,1955,1955,1958,1961,1964,1967,1970,1972,1974,1976,1978,1980,1982,1982,1977,2288,2285,2278,2272,2271,1958,1955,1959,1962,1964,1967,1970,1972,1974,1976,1978,1980,1982,1982,1978,2285,2285,2277,2271,2270,1960,1956,1959,1962,1965,1967,1970,1972,1974,1977,1979,1980,1982,1983,1979,2282,2284,2277,2270,2269,1963,1956,1959,1962,1965,1967,1970,1972,1975,1977,1979,1981,1982,1983,1981,2278,2283,2276,2270,2268,1966,1957,1959,1962,1965,1967,1970,1972,1975,1977,1979,1981,1983,1984,1981,2275,2282,2275,2269,2266,1970,1957,1960,1962,1965,1967,1970,1972,1975,1977,1979,1981,1983,1984,1983,2271,2281,2275,2268,2265,1972,1958,1960,1963,1965,1968,1970,1972,1975,1977,1979,1981,1983,1984,1983,2268,2280,2274,2268,2264,1977,1959,1960,1963,1965,1968,1970,1973,1975,1977,1979,1981,1983,1985,1985,2224,2238,2233,2228,2224,1983,1965,1966,1969,1971,1973,1975,1978,1980,1982,1984,1986,1988,1990,1990,2224,2241,2236,2231,2227,1989,1969,1970,1972,1974,1976,1978,1980,1982,1984,1986,1988,1990,1992,1993,2223,2242,2238,2232,2227,1995,1971,1972,1974,1976,1978,1980,1982,1984,1986,1988,1990,1992,1994,1995,2220,2243,2238,2233,2227,1999,1972,1973,1975,1977,1979,1981,1983,1985,1987,1989,1991,1993,1995,1997,2218,2243,2239,2233,2227,2004,1973,1974,1975,1977,1979,1982,1984,1986,1988,1990,1992,1995,2000,2043,2244,2239,2233,2225,2025,1978,1977,1978,1980,1982,1984,1986,1988,1990,1993,1995,1999,2005,2178,2241,2241,2239,2246,1949,1962,1967,1971,1974,1976,1978,1981,1983,1984,1986,1987,1986,1979,2263,2251,2243,2237,2226,1960,1968,1972,1974,1977,1979,1981,1982,1984,1986,1987,1988,1988,1986,2262,2246,2236,2224,2119,1984,1980,1981,1982,1983,1985,1987,1989,1991,1993,1996,1999,2006,2085,2240,2239,2235,2231,1992,1973,1974,1976,1978,1981,1983,1985,1987,1989,1991,1994,1996,1999,2215,2245,2243,2241,2248,1946,1961,1967,1971,1974,1976,1978,1980,1982,1984,1985,1985,1984,1973,2270,2252,2242,2233,2202,1970,1973,1975,1977,1979,1981,1983,1985,1987,1988,1990,1992,1993,2007,2254,2243,2234,2223,2075,1984,1980,1981,1982,1984,1986,1988,1990,1992,1994,1997,2001,2008,2128,2239,2239,2237,2239,1966,1967,1971,1973,1976,1978,1981,1983,1985,1987,1989,1991,1992,1990,2242,2249,2244,2240,2244,1950,1963,1968,1972,1974,1977,1979,1981,1983,1984,1985,1986,1984,1973,2270,2250,2239,2228,2168,1979,1978,1979,1980,1982,1984,1986,1987,1989,1991,1993,1996,2000,2038,2246,2241,2234,2225,2033,1980,1978,1979,1981,1983,1985,1987,1989,1991,1994,1997,2000,2007,2171,2241,2241,2239,2245,1951,1963,1968,1971,1974,1977,1979,1981,1983,1985,1987,1988,1987,1981,2261,2251,2244,2238,2230,1959,1968,1971,1974,1976,1979,1981,1982,1984,1986,1987,1988,1987,1983,2263,2247,2237,2224,2127,1984,1980,1981,1982,1984,1985,1987,1989,1991,1993,1996,1999,2006,2077,2241,2239,2235,2230,1997,1974,1975,1977,1979,1981,1983,1985,1988,1990,1992,1994,1997,2001,2209,2245,2243,2241,2249,1946,1962,1967,1971,1974,1976,1979,1981,1983,1984,1986,1986,1986,1977,2224,2209,2202,2195,2172,1975,1978,1980,1982,1984,1986,1988,1989,1991,1992,1994,1995,1996,2006,2216,2206,2199,2189,2073,1990,1988,1988,1989,1991,1993,1994,1996,1998,2000,2003,2006,2012,2106,2205,2206,2204,2208,1964,1976,1980,1983,1985,1987,1989,1991,1992,1993,1994,1992,1983,2230,2214,2205,2195,2069,1995,1992,1992,1993,1995,1996,1998,2000,2002,2004,2007,2012,2071,2210,2210,2208,2215,1963,1976,1981,1984,1986,1988,1990,1992,1993,1995,1995,1995,1989,2221,2212,2204,2194,2107,1994,1992,1992,1993,1994,1996,1997,1999,2001,2003,2005,2008,2037,2216,2213,2210,2215,1968,1978,1983,1985,1988,1990,1992,1993,1995,1997,1998,1999,1998,2203,2210,2204,2196,2142,1990,1989,1990,1991,1992,1994,1996,1997,1999,2000,2001,2003,2012,2224,2215,2211,2211,1982,1983,1986,1988,1990,1992,1994,1996,1997,1999,2001,2003,2006,2176,2207,2204,2199,2173,1982,1985,1986,1988,1990,1992,1993,1995,1996,1997,1998,1997,1993,2230,2217,2210,2205,2005,1988,1989,1991,1992,1994,1996,1997,1999,2001,2003,2006,2012,2144,2206,2205,2203,2195,1973,1980,1984,1986,1988,1990,1991,1993,1994,1995,1996,1994,1985,2233,2216,2208,2200,2035,1993,1992,1992,1994,1995,1997,1999,2000,2002,2005,2008,2014,2106,2207,2208,2206,2210,1966,1977,1982,1984,1987,1989,1991,1992,1993,1994,1995,1994,1985,2230,2215,2206,2196,2070,1995,1993,1993,1994,1995,1997,1999,2000,2002,2004,2007,2013,2070,2211,2210,2209,2216,1964,1977,1981,1984,1987,1989,1991,1992,1994,1995,1996,1995,1990,2220,2213,2205,2195,2109,1994,1992,1992,1993,1994,1996,1997,1999,2001,2003,2005,2008,2036,2217,2213,2211,2215,1969,1979,1983,1986,1988,1990,1992,1994,1995,1997,1998,1999,1998,2202,2210,2204,2196,2143,1990,1989,1990,1991,1992,1994,1995,1997,1999,2000,2001,2003,2011,2224,2215,2211,2211,1983,1983,1986,1988,1990,1992,1994,1996,1998,1999,2001,2003,2007,2175,2207,2204,2199,2174,1982,1984,1987,1988,1990,1992,1993,1995,1996,1997,1998,1998,1993,2231,2217,2210,2205,2005,1989,1989,1991,1992,1994,1996,1998,2000,2002,2004,2007,2013,2143,2207,2206,2203,2197,1974,1981,1984,1987,1989,1991,1993,1994,1996,1997,1998,1997,1991,2190,2179,2174,2178,1978,1987,1991,1993,1995,1997,1999,2000,2002,2004,2005,2008,2143,2168,2165,2159,2053,2000,1998,1998,2000,2001,2002,2004,2005,2007,2008,2011,2034,2178,2174,2171,2162,1989,1994,1996,1998,1999,2001,2002,2003,2004,2005,2004,1998,2195,2184,2179,2180,1992,1995,1997,1999,2001,2003,2004,2006,2007,2009,2011,2016,2119,2169,2168,2161,2086,2003,2001,2001,2002,2003,2005,2006,2007,2008,2009,2010,2017,2188,2181,2178,2178,1986,1994,1997,1999,2001,2002,2004,2005,2006,2007,2006,2002,2188,2182,2177,2175,2008,1999,2000,2001,2003,2004,2006,2007,2009,2011,2013,2018,2092,2171,2169,2163,2116,2001,2000,2001,2002,2003,2004,2005,2007,2008,2008,2008,2006,2195,2185,2181,2185,1984,1994,1997,1999,2001,2003,2004,2005,2007,2008,2009,2008,2172,2178,2174,2169,2028,2002,2001,2002,2003,2005,2006,2007,2009,2011,2013,2017,2063,2174,2172,2168,2141,1997,1999,2000,2001,2002,2004,2005,2006,2007,2007,2007,2000,2199,2187,2183,2186,1985,1994,1998,2000,2002,2003,2005,2006,2008,2009,2011,2013,2150,2173,2170,2164,2055,2004,2002,2003,2004,2005,2006,2007,2009,2010,2012,2015,2038,2180,2177,2173,2163,1992,1996,1998,2000,2002,2003,2004,2005,2006,2007,2006,1999,2197,2186,2181,2182,1993,1996,1999,2001,2002,2004,2005,2007,2008,2010,2012,2016,2123,2171,2169,2162,2084,2004,2002,2002,2003,2004,2005,2007,2008,2009,2010,2012,2020,2187,2181,2178,2177,1987,1995,1997,2000,2001,2003,2004,2005,2006,2007,2007,2002,2189,2183,2178,2176,2007,1999,2000,2002,2003,2004,2006,2007,2009,2011,2013,2018,2095,2171,2169,2163,2113,2002,2001,2001,2002,2003,2005,2006,2007,2008,2009,2009,2007,2194,2185,2181,2185,1984,1994,1997,1999,2001,2003,2004,2006,2007,2008,2008,2007,2174,2178,2174,2169,2026,2002,2001,2002,2003,2005,2006,2007,2009,2011,2013,2017,2066,2173,2172,2167,2139,1998,1999,2000,2001,2002,2004,2005,2006,2007,2007,2007,2000,2198,2187,2182,2186,1985,1994,1997,2000,2001,2003,2005,2006,2008,2010,2013,2049,2173,2169,2162,2068,2004,2002,2002,2003,2003,2005,2005,2006,2006,2006,2000,2195,2183,2176,2158,1998,2000,2002,2003,2005,2006,2007,2008,2009,2010,2008,2183,2184,2182,2186,1984,1994,1998,2000,2002,2004,2006,2007,2009,2011,2016,2081,2131,2131,2129,2017,2003,2004,2005,2006,2007,2008,2009,2011,2011,2013,2021,2142,2137,2131,2088,2010,2009,2009,2010,2011,2012,2013,2013,2014,2013,2008,2157,2148,2145,2143,2002,2007,2009,2011,2012,2014,2015,2016,2017,2019,2020,2128,2143,2143,2145,2002,2006,2008,2010,2011,2013,2014,2015,2017,2018,2022,2058,2139,2137,2133,2049,2013,2011,2012,2013,2013,2014,2015,2016,2016,2016,2014,2154,2146,2141,2120,2012,2012,2013,2014,2015,2016,2017,2017,2018,2018,2015,2154,2151,2148,2151,2000,2008,2010,2012,2014,2015,2016,2018,2019,2021,2025,2101,2141,2141,2140,2016,2009,2010,2011,2013,2014,2015,2016,2017,2018,2020,2035,2144,2140,2135,2080,2015,2013,2013,2014,2015,2015,2016,2017,2017,2016,2011,2160,2151,2146,2140,2007,2011,2013,2014,2015,2016,2017,2018,2019,2020,2021,2139,2147,2146,2149,2001,2007,2010,2012,2013,2015,2016,2017,2018,2020,2024,2072,2139,2138,2135,2039,2013,2012,2012,2013,2014,2015,2016,2016,2017,2017,2019,2152,2145,2139,2109,2014,2013,2014,2015,2015,2016,2017,2017,2018,2018,2013,2158,2152,2149,2150,2002,2009,2011,2013,2014,2016,2017,2018,2020,2021,2024,2114,2143,2143,2143,2010,2009,2010,2012,2013,2014,2015,2016,2017,2019,2021,2045,2142,2139,2134,2067,2015,2013,2013,2014,2015,2015,2016,2016,2017,2016,2011,2159,2149,2144,2133,2010,2012,2013,2014,2015,2016,2017,2018,2019,2020,2019,2147,2149,2148,2151,2000,2007,2010,2012,2013,2015,2016,2017,2019,2021,2025,2085,2139,2139,2136,2028,2011,2011,2012,2013,2014,2015,2015,2016,2017,2018,2024,2148,2142,2137,2097,2015,2013,2014,2014,2015,2016,2016,2017,2017,2017,2011,2160,2151,2148,2147,2003,2009,2011,2013,2014,2015,2016,2017,2018,2020,2034,2146,2143,2140,2025,2012,2012,2013,2013,2014,2015,2015,2015,2014,2008,2157,2147,2140,2097,2018,2016,2016,2017,2018,2018,2019,2020,2021,2023,2133,2147,2146,2146,2003,2009,2011,2013,2015,2016,2017,2019,2021,2024,2062,2143,2143,2144,2006,2007,2009,2010,2012,2013,2014,2014,2015,2014,2011,2153,2144,2137,2065,2017,2015,2015,2016,2016,2017,2017,2018,2018,2015,2150,2148,2144,2132,2010,2013,2014,2015,2016,2017,2018,2020,2021,2024,2069,2103,2104,2107,2007,2012,2014,2016,2017,2018,2019,2020,2021,2022,2027,2109,2105,2103,2034,2020,2020,2020,2020,2021,2022,2022,2022,2022,2018,2117,2111,2106,2085,2024,2023,2023,2024,2025,2025,2026,2027,2028,2030,2096,2111,2111,2113,2014,2019,2021,2022,2023,2024,2025,2026,2027,2029,2048,2110,2109,2109,2023,2020,2021,2022,2023,2023,2024,2024,2024,2024,2021,2119,2112,2107,2067,2027,2026,2026,2026,2026,2027,2027,2028,2028,2028,2112,2114,2112,2108,2020,2023,2024,2025,2026,2027,2028,2029,2030,2033,2069,2110,2111,2113,2016,2020,2021,2022,2023,2024,2025,2026,2026,2026,2028,2116,2111,2107,2047,2026,2025,2025,2025,2026,2026,2027,2027,2026,2023,2119,2114,2111,2096,2025,2025,2026,2027,2027,2028,2029,2030,2031,2033,2090,2112,2113,2115,2015,2020,2022,2023,2024,2025,2026,2027,2028,2029,2041,2112,2110,2109,2029,2023,2023,2024,2024,2025,2025,2025,2026,2025,2021,2120,2113,2108,2077,2028,2026,2026,2027,2027,2028,2028,2029,2030,2030,2107,2114,2113,2112,2019,2022,2024,2025,2026,2027,2028,2029,2030,2032,2060,2111,2111,2112,2018,2020,2022,2023,2024,2024,2025,2025,2026,2026,2024,2117,2112,2107,2056,2027,2026,2026,2026,2027,2027,2027,2028,2027,2025,2117,2115,2112,2102,2024,2025,2026,2026,2027,2028,2029,2030,2031,2034,2082,2111,2112,2115,2014,2020,2022,2023,2024,2025,2026,2026,2027,2028,2035,2113,2111,2108,2036,2024,2024,2024,2025,2025,2025,2026,2026,2025,2022,2121,2114,2110,2045,2027,2027,2027,2027,2028,2028,2029,2030,2031,2097,2110,2108,2093,2025,2025,2026,2026,2027,2028,2029,2030,2032,2049,2113,2113,2116,2015,2020,2022,2023,2024,2025,2025,2025,2025,2022,2120,2114,2111,2034,2025,2025,2025,2026,2027,2027,2028,2028,2028,2106,2111,2108,2081,2027,2026,2026,2027,2028,2028,2029,2031,2033,2061,2111,2112,2113,2016,2021,2022,2023,2024,2025,2026,2026,2026,2025,2119,2114,2113,2025,2023,2024,2024,2025,2026,2026,2026,2026,2025,2113,2112,2108,2069,2028,2027,2027,2027,2028,2029,2030,2031,2033,2074,2110,2110,2109,2019,2022,2023,2024,2025,2026,2027,2027,2028,2030,2117,2114,2115,2019,2021,2022,2023,2024,2025,2025,2025,2025,2022,2118,2113,2108,2056,2028,2026,2027,2027,2027,2028,2029,2029,2031,2058,2070,2070,2066,2027,2028,2029,2029,2030,2030,2031,2032,2032,2037,2075,2075,2076,2026,2029,2030,2030,2031,2031,2032,2032,2032,2030,2080,2077,2075,2042,2034,2033,2034,2034,2034,2035,2035,2036,2036,2070,2076,2075,2067,2034,2034,2034,2035,2035,2036,2036,2037,2038,2047,2078,2079,2080,2030,2032,2033,2034,2034,2035,2035,2035,2035,2034,2083,2080,2078,2039,2035,2035,2035,2036,2036,2036,2037,2037,2037,2076,2078,2077,2064,2037,2036,2036,2037,2037,2037,2038,2039,2040,2054,2079,2079,2080,2032,2034,2035,2035,2036,2036,2036,2036,2036,2036,2083,2081,2080,2036,2035,2035,2036,2036,2036,2036,2037,2037,2036,2080,2079,2077,2058,2037,2037,2037,2037,2038,2038,2038,2039,2040,2061,2079,2079,2078,2033,2035,2035,2036,2036,2037,2037,2037,2038,2039,2082,2081,2081,2033,2034,2035,2035,2036,2036,2036,2036,2036,2035,2083,2080,2078,2051,2038,2037,2037,2037,2037,2038,2038,2039,2040,2067,2079,2078,2074,2035,2035,2036,2036,2037,2037,2038,2038,2039,2044,2081,2080,2082,2031,2034,2035,2035,2035,2036,2036,2036,2036,2034,2084,2080,2079,2045,2037,2037,2037,2037,2037,2037,2038,2038,2039,2073,2079,2078,2069,2036,2036,2036,2037,2037,2037,2037,2038,2038,2074,2079,2077,2049,2037,2037,2037,2037,2037,2038,2038,2039,2043,2081,2080,2079,2033,2035,2035,2036,2036,2037,2037,2037,2036,2082,2081,2080,2039,2036,2036,2037,2037,2037,2038,2038,2039,2054,2078,2077,2070,2036,2036,2036,2036,2037,2037,2037,2037,2035,2085,2082,2083,2033,2035,2036,2036,2037,2037,2038,2038,2039,2067,2077,2076,2057,2037,2036,2037,2037,2037,2037,2038,2038,2038,2083,2082,2082,2032,2035,2035,2036,2036,2037,2037,2037,2037,2078,2079,2078,2045,2037,2036,2037,2037,2037,2038,2038,2039,2047,2080,2079,2076,2034,2035,2036,2036,2036,2037,2037,2037,2035,2084,2081,2081,2036,2036,2036,2036,2037,2037,2038,2038,2039,2059,2077,2077,2065,2036,2036,2036,2036,2037,2037,2037,2037,2036,2085,2082,2083,2032,2035,2035,2036,2037,2037,2037,2038,2038,2071,2078,2077,2052,2037,2037,2037,2037,2037,2037,2038,2038,2041,2082,2081,2080,2033,2035,2035,2036,2036,2037,2037,2037,2036,2081,2080,2079,2041,2036,2036,2036,2037,2037,2037,2038,2038,2038,2039,2039,2039,2039,2039,2040,2040,2040,2040,2041,2041,2041,2041,2042,2042,2042,2042,2042,2042,2043,2043,2043,2043,2043,2043,2043,2043,2044,2044,2044,2044,2044,2044,2044,2044,2044,2045,2045,2045,2045,2045,2045,2045,2045,2045,2045,2045,2045,2045,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2046,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2047,2048,2047,2048,2047,2048,2048,2048,2047,2047,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2048,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2047,2047,2048,2048,2048,2048,2048,2047,2047,2048,2048,2048,2047,2048,2048,2048,2048,2048,2048,2047,2047,2047,2048,2048,2048,2047,2048,2048,2047,2048,2048,2048,2048,2048,2047,2048,2047,2048,2048,2047,2048,2048,2047,2048,2047,2048,2048,2048,2047,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2048,2048,2048,2047,2047,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2047,2047,2048,2047,2048,2048,2048,2048,2047,2048,2048,2047,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048,2048};
static int soundEffectCounter = 0;
	
Sound currentSoundEffect;
static int currentDuration = 0;
static int amplitudePointer = 0;
	
// Send data out the DAC
void SSI2_Out(uint16_t code){
	while((SSI2_SR_R&0x02) == 0){};	// Wait until transmit not full
	SSI2_DR_R = code;	// Send the data out
}

// Send data out the DAC
void SSI1_Out(uint16_t code){
	while((SSI1_SR_R&0x00000002)==0){};// SSI Transmit FIFO Not Full
  SSI1_DR_R = code; }                // data out, no reply

// Called by the Systick Handler to set which sound effect is being played
void Set_Sound_Effect(Sound s){
	if(s == NONE) return;
	if(s == currentSoundEffect) return;
	
	currentSoundEffect = s;
	soundEffectCounter = 0;
	TIMER2_TAILR_R = (80000000 / 11025);	// Output at 11.025 KHz for a 80MHz clock
}

// Next beat
void nextBeat(){		
	if(currentDuration == 0){
		// Delay for separation of notes
		//for(int i = 0; i < 250000; i++);
		songPointer += 1;
		if(songPointer == song.songLength) songPointer = 0;
		if(song.frequencies[songPointer] == R) TIMER1_TAILR_R = 0;
		else TIMER1_TAILR_R = (80000000 / (song.frequencies[songPointer] * 32));
		currentDuration = song.durations[songPointer];
	}
	
	currentDuration -= 1;
}

// Output to the DAC
void backgroundOutputDac(){
	
	int amplitude = Flute[amplitudePointer % 32];
	amplitude /= 4;
	amplitude &= 0x0FFF;
	amplitude |= 0x6000;
	amplitude = 0;//Turn off sound while working
	SSI1_Out(amplitude);
	
	amplitudePointer += 1;
}

// ***************** Timer0A_Init ****************
// Activate TIMER0 interrupts to run user task periodically
// Inputs:  task is a pointer to a user function
//          period in units (1/clockfreq), 32 bits
// Outputs: none
void Timer0A_Init(void(*task)(void)){long sr;
  sr = StartCritical();
  SYSCTL_RCGCTIMER_R |= 0x01;   // 0) activate TIMER0
  PeriodicTask0 = task;          // user function
  TIMER0_CTL_R = 0x00000000;    // 1) disable TIMER0A during setup
  TIMER0_CFG_R = 0x00000000;    // 2) configure for 32-bit mode
  TIMER0_TAMR_R = 0x00000002;   // 3) configure for periodic mode, default down-count settings
  TIMER0_TAILR_R = ((80000000 / (BPM / 60)) / 4);    // 4) Each beat is a 16th note
  TIMER0_TAPR_R = 0;            // 5) bus clock resolution
  TIMER0_ICR_R = 0x00000001;    // 6) clear TIMER0A timeout flag
  TIMER0_IMR_R = 0x00000001;    // 7) arm timeout interrupt
  //NVIC_PRI4_R = (NVIC_PRI4_R&0x00FFFFFF)|0x80000000; // 8) priority 4
	NVIC_PRI4_R = (NVIC_PRI4_R&0x00FFFFFF)|0x00000000; // 8) priority 0
// interrupts enabled in the main program after all devices initialized
// vector number 35, interrupt number 19
  NVIC_EN0_R = 1<<19;           // 9) enable IRQ 19 in NVIC
  TIMER0_CTL_R = 0x00000001;    // 10) enable TIMER0A
  EndCritical(sr);
}

void Timer0A_Handler(void){
  TIMER0_ICR_R = TIMER_ICR_TATOCINT;// acknowledge timer0A timeout
  (*PeriodicTask0)();                // execute user task
}

void Timer1_Init(void(*task)(void)){
  SYSCTL_RCGCTIMER_R |= 0x02;   // 0) activate TIMER1
  PeriodicTask1 = task;          // user function
  TIMER1_CTL_R = 0x00000000;    // 1) disable TIMER1A during setup
  TIMER1_CFG_R = 0x00000000;    // 2) configure for 32-bit mode
  TIMER1_TAMR_R = 0x00000002;   // 3) configure for periodic mode, default down-count settings
  TIMER1_TAILR_R = (80000000 / (song.frequencies[song.songPointer] * 32)) - 1;    // 4) Frequency of the first note
  TIMER1_TAPR_R = 0;            // 5) bus clock resolution
  TIMER1_ICR_R = 0x00000001;    // 6) clear TIMER1A timeout flag
  TIMER1_IMR_R = 0x00000001;    // 7) arm timeout interrupt
  //NVIC_PRI5_R = (NVIC_PRI5_R&0xFFFF00FF)|0x00008000; // 8) priority 4
	NVIC_PRI5_R = (NVIC_PRI5_R&0xFFFF00FF)|0x00000000; // 8) priority 0
// interrupts enabled in the main program after all devices initialized
// vector number 37, interrupt number 21
  NVIC_EN0_R = 1<<21;           // 9) enable IRQ 21 in NVIC
  TIMER1_CTL_R = 0x00000001;    // 10) enable TIMER1A
}

void Timer1A_Handler(void){
  TIMER1_ICR_R = TIMER_ICR_TATOCINT;// acknowledge TIMER1A timeout
  (*PeriodicTask1)();                // execute user task
}

// ***************** Timer2_Init ****************
// Activate Timer2 interrupts to run user task periodically
// Inputs:  task is a pointer to a user function
//          period in units (1/clockfreq)
// Outputs: none
void Timer2_Init(void(*task)(void)){
  SYSCTL_RCGCTIMER_R |= 0x04;   // 0) activate timer2
  PeriodicTask2 = task;          // user function
  TIMER2_CTL_R = 0x00000000;    // 1) disable timer2A during setup
  TIMER2_CFG_R = 0x00000000;    // 2) configure for 32-bit mode
  TIMER2_TAMR_R = 0x00000002;   // 3) configure for periodic mode, default down-count settings
  TIMER2_TAILR_R = 0;    // 4) Initially no sound effect
  TIMER2_TAPR_R = 0;            // 5) bus clock resolution
  TIMER2_ICR_R = 0x00000001;    // 6) clear timer2A timeout flag
  TIMER2_IMR_R = 0x00000001;    // 7) arm timeout interrupt
  //NVIC_PRI5_R = (NVIC_PRI5_R&0x00FFFFFF)|0x80000000; // 8) priority 4
	NVIC_PRI5_R = (NVIC_PRI5_R&0x00FFFFFF)|0x00000000; // 8) priority 0
// interrupts enabled in the main program after all devices initialized
// vector number 39, interrupt number 23
  NVIC_EN0_R = 1<<23;           // 9) enable IRQ 23 in NVIC
  TIMER2_CTL_R = 0x00000001;    // 10) enable timer2A
}

void Timer2A_Handler(void){
  TIMER2_ICR_R = TIMER_ICR_TATOCINT;// acknowledge TIMER2A timeout
  (*PeriodicTask2)();                // execute user task
}

// Check if a sound is being played - output the WAV of the sound
void soundEffectTask(){	
	switch(currentSoundEffect){
		case NONE:
			
		break;
		case JUMP:
			// Check if counter reached the end
			if(soundEffectCounter >= 6506){
				currentSoundEffect = NONE;
				soundEffectCounter = 0;
				TIMER2_TAILR_R = 0;
				return;
			}
			// Output and increment counter
			SSI2_Out(jumpSound[soundEffectCounter] / 32);
			soundEffectCounter += 1;
		break;
	}
	
}

// Initialize the SSI module
// SSI 1 and SSI2
void SSI_Init(){
	SYSCTL_RCGCSSI_R |= 0x06;	// Enable SSI 1 and 2
	
	// PORT D INITIALIZATION
	/*SYSCTL_RCGCGPIO_R |= 0x08;	// Enable port D
	while((SYSCTL_RCGCGPIO_R & 0X08) == 0);	// Wait
	GPIO_PORTD_AFSEL_R |= 0x0F;	// Enable AFSEL on PD0-3
	GPIO_PORTD_PCTL_R = (GPIO_PORTD_PCTL_R&0xFFFF0000) + 0x00002222;	// SSI1 for PD0-3
	GPIO_PORTD_DEN_R |= 0x0F;	// Digital I/O for PD0-3
	GPIO_PORTD_DATA_R |= 0x02;	// PD1 FSS is high*/
	
	// PORT B INITIALIZATION
	SYSCTL_RCGCGPIO_R |= 0x02;	// Enable port B
	while((SYSCTL_RCGCGPIO_R & 0x02) == 0);	// Wait
	GPIO_PORTB_AFSEL_R |= 0xF0;	// Enable AFSEL on PB4-7
	GPIO_PORTB_PCTL_R = (GPIO_PORTB_PCTL_R & 0x0000FFFF) + 0x22220000;	// SSI2 for PB4-7
	GPIO_PORTB_DEN_R |= 0xF0;	// Digital I/O for PB4-7
	GPIO_PORTB_DATA_R |= 0x20;	// PB5 FSS is high
	
	// PORT F INITIALIZATION - TEMPORARY FOR DEMO
	SYSCTL_RCGCGPIO_R |= 0x20;	// Enable Port F
	while((SYSCTL_RCGCGPIO_R & 0x20) == 0);	// Wait
	GPIO_PORTF_LOCK_R = 0x4C4F434B;   // 2) unlock GPIO Port F
	GPIO_PORTF_CR_R = 0x1F;           // allow changes to PF4-0
	GPIO_PORTF_AFSEL_R |= 0x0F;	// Enable AFSEL on PF0-3
	GPIO_PORTF_PCTL_R = (GPIO_PORTF_PCTL_R & 0x0000) + 0x2222;	// SSI1 for PF0-3
	GPIO_PORTF_DEN_R |= 0x0F;	// Digital I/O for PF0-3
	GPIO_PORTF_DATA_R |= 0x08;	// PF3 Fss is high
	
	// SSI1 INITIALIZATION
	SSI1_CR1_R &= 0;	// Disable SSI1 and set to master
	SSI1_CPSR_R = 0x06;	// Prescale divisor = 6
	SSI1_CR0_R &= ~0xFFF0;	// Clear everything | SCR = 0, SPH = 0, SPO = 0 Freescale
	SSI1_CR0_R |= 0x0F;	// 16 bit data
	
	// SSI2 INITIALIZATION
	SSI2_CR1_R &= 0;	// Disable SSI2 and set to master
	SSI2_CPSR_R = 0x06;	// Prescale divisor = 6
	SSI2_CR0_R &= ~(0x0000FFF0);    // SCR = 0, SPH = 0, SPO = 0 Freescale
  SSI2_CR0_R |= 0x0F;             // DSS = 16-bit data
	
	SSI2_CR1_R |= 0x02;	// Enable SSI 2
	SSI1_CR1_R |= 0x02;	// Enable SSI 1
}

// Initialize the Song module
void Sound_Init(){
	SSI_Init();
	currentDuration = song.durations[songPointer];
	Timer0A_Init(&nextBeat);
	Timer1_Init(&backgroundOutputDac);
	Timer2_Init(&soundEffectTask);
}
